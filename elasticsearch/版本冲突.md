# 版本冲突

标签（空格分隔）： es

---

## 单文档更新

单进程，update某个文档不会有冲突。

多进程，update同个文档会是怎么样的情况（前提：refresh_interval是很大的情况下）：
A进程拿取但文档并更新到内存之后，B进程再更新，应该是没有问题的？也就是交叉更新。因为B进程更新拿到的是内存的文档？而不是search的文档？或者单文档的更新是能获取到最新的。

A、B进程同步并发处理：A、B的更新线程同时拿到同一个版本的文档，会发生冲突？加上重试后就好，如果不断有更新的任务，即使重试也会一样发送冲突。

## 搜索更新

多进程搜索更新：refresh_interval内拿到的都是旧数据，A进程更新后，B进程的更新操作能拿到A更新后的版本？所以会很容易发生冲突？这样重试有作用吗？还是说冲突后，会刷新冲突的数据？待测试



