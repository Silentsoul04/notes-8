
# 停机发布 

把老版的应用实例完全停止，再发布新的版本。

这种发布模式主要为了解决新老版本互不兼容、无法共存的问题，

- 缺点：是一段时间内服务完全不可用。
- 优点：资源消耗小，升级速度快

#滚动发布 
分批次逐步替换应用实例。

这种发布模式不会中断服务，同时也不会消耗过多额外的资源，
但由于新老版本实例同时在线，可能导致来自相同客户端的请求在新老版中切换而产生兼容性问题。

#蓝绿发布 
在线上同时部署相同数量的新老版本应用实例。待新版本测试通过后，将流量一次性地切到新的服务实例上来。

这种发布模式解决了停机发布中存在的服务完全不可用问题
但会造成比较大的资源消耗。

#金丝雀发布 

- 逐渐将流量从老版本切换到新版本上。如果观察一段时间后没有发现问题，就进一步扩大新版本流量，同时减少老版本上流量。

A/B 测试 - 同时上线两个或多个版本，收集用户对这些版本的反馈，分析评估出最好版本正式采用。


---

参考链接：
- [K8s 应用管理之道 - 升级篇（一）](https://blog.csdn.net/fly910905/article/details/99696274)

WORKERS=1
CFGHOST=https://apollo-alishh.umlife.net
CFGENV=feature
CFGAUTH=ag-apollo:tRZ62Exi7J0EZ06v
CFGAPP=ag-www-old